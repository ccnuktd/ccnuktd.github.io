# P2P应用_索引
### 引入
之所以P2P需要用到索引，因为需要**动态跟踪节点的位置和节点的具体信息**，别的节点可以通过**索引搜索**以获取自己的信息。
![](https://gitee.com/ccnuktd/pic-bed/raw/master/202201291130338.png)
### 索引类型
#### 集中式索引
![](https://gitee.com/ccnuktd/pic-bed/raw/master/202201291134091.png)
在集中式索引中会有一个中央服务器来管理。
这样做会有很多缺点，可以和DNS的集中式管理对比：
> 单点失效
> 性能瓶颈
> 版权问题（向中央服务器进行窃取）
#### 完全分布式索引
分布式索引情况下，查询会使用洪泛式查询
![](https://gitee.com/ccnuktd/pic-bed/raw/master/202201291140160.png)
在洪范式查询中，每一个节点都在一个节点网络中，如果需要查询信息，这个节点就会把查询信息发给整个接节点网络，每个节点网络中的节点又会把查询信息传播给自己的节点网络（可以类比为广度优先搜索）。
![](https://gitee.com/ccnuktd/pic-bed/raw/master/202201291143542.png)
洪泛式查询，顾名思义，向洪水一般泛滥，这样的查询会给整个网络带来负担。
因此能不能想出一个比这两个方法都好的方法呢？
结合我们学习的思路，可以采用两者结合的方法。
#### 分布式与集中式相结合
这里需要提出层次式覆盖网络
![](https://gitee.com/ccnuktd/pic-bed/raw/master/202201291149132.png)
层次式网络引入了**超级节点**这一概念，普通节点集中查询超级节点，超级节点之间泛洪式查询。兼顾了两者的优点。
### 例子：Skype
![](https://gitee.com/ccnuktd/pic-bed/raw/master/202201291152088.png)

